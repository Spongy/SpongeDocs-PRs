<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">




<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
     <title>Implementing DataManipulators &mdash; Sponge 2.1-SNAPSHOT documentation</title>
    
  <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sponge.css" type="text/css" />
  <link href='//fonts.googleapis.com/css?family=Source+Code+Pro|Roboto:400italic,700italic,700,400' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../../_static/tomorrow.css" type="text/css" />
  <link id="syntax-highlighting-ref" rel="stylesheet" href="../../_static/tomorrow_night.css" type="text/css" />
      
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    '../../',
      VERSION:     '2.1-SNAPSHOT',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/store.min.js"></script>
    <script type="text/javascript" src="../../_static/lights.js"></script>
        <link rel="top" title="Sponge 2.1-SNAPSHOT documentation" href="../../index.html" />
        <link rel="up" title="Implementation Development" href="index.html" />
        <link rel="next" title="SpongeDocs Writing" href="../spongedocs.html" />
        <link rel="prev" title="Git Workflow for Sponge implementations" href="git.html" />
    
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-59476017-2', 'auto');
    ga('send', 'pageview');

  </script> 
  </head>
  <body role="document">
    <div class="container">
  <div class="related" role="navigation" aria-label="related navigation">
    <h3>Navigation</h3>
    <ul>
      <span style="float: right" class="lights" title="Toggles syntax highlighting between light and dark">
        <i class="icon-lamp lights-icon"></i> Highlight Code Light/Dark
      </span>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../spongedocs.html" title="SpongeDocs Writing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git.html" title="Git Workflow for Sponge implementations"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Sponge 2.1-SNAPSHOT documentation</a> &raquo;</li>
        <li><a href="../index.html" >Contributing to Sponge</a> &raquo;</li>
        <li><a href="index.html" accesskey="U">Implementation Development</a> &raquo;</li> 
    </ul>
  </div> 
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
    <form class="search" action="../../search.html" method="get">
      <div class="searchbox-inner">
        <input class="field" type="text" name="q" autocomplete="off" />
        <button class="submit" type="submit"><i class="icon-search"></i></button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </div>
    </form>
    <p class="searchtip" style="font-size: 90%"></p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Creating a Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../server/getting-started/index.html">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/jre.html">Installing Java</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/migrating.html">Migrating to Sponge</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/implementations/index.html">Choosing an Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/spongeforge.html">SpongeForge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/spongevanilla.html">SpongeVanilla</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/installation.html">Installing Sponge</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/launch-script.html">Creating a Launch Script</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/port-forward.html">Port Forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/configuration/index.html">Configuring Sponge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/hocon.html">Introduction to HOCON</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/json.html">JSON Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/sponge-conf.html">global.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/server-properties.html">server.properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/management/index.html">Server Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/whitelist.html">Managing the Whitelist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/bans.html">Managing Bans</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/permissions.html">Managing Permissions</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/plugins.html">Installing Plugins</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/spongineer/index.html">Becoming an Expert Spongineer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/commands.html">Commands</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/troubleshooting.html">Troubleshooting</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/logs.html">Log Files</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/debugging.html">Debugging</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Preparing for Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/jdk.html">Installing the JDK</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/ide.html">Installing an IDE</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/text.html">Installing a Text Editor</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/git.html">Installing Git</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../plugin/index.html">Creating a Plugin</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/workspace/index.html">Setting Up Your Workspace</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/workspace/idea.html">Setting Up IntelliJ IDEA</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/workspace/eclipse.html">Setting Up Eclipse</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/workspace/netbeans.html">Setting Up NetBeans</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/workspace/dependencies.html">Adding Sponge API Dependencies</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/practices.html">Best Practices</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/templates.html">Plugin Templates</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/main-class.html">Creating Your Main Plugin Class</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/lifecycle.html">Plugin Lifecycle</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/logging.html">Logging and Debugging</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/text/index.html">Working with Text</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/text/text.html">Creating Text</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/text/pagination.html">The Pagination Service</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/commands/index.html">Creating Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/commands/creating.html">Building a Command</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/commands/arguments.html">Argument Parsing</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/commands/childcommands.html">Child Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/commands/service.html">The Command Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/commands/commandcallable.html">Low-Level Command API</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/events.html">Working with Events</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/data/index.html">The Data API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/data/keys.html">Using Keys</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/data/datamanipulators.html">Data Manipulators</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/data/transactions.html">Transactions</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/blocks/index.html">Working with Blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/blocks/concepts.html">Concepts</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/blocks/accessing.html">Accessing Blocks</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/blocks/modifying.html">Modifying Blocks</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/blocks/tileentities.html">Working with Tile Entities</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/entities/index.html">Working with Entities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/entities/spawning.html">Spawning an Entity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/items.html">Working with Items</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/configuration/index.html">Configuring Your Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/configuration/loaders.html">Configuration Loaders</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/configuration/nodes.html">Configuration Nodes</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/configuration/paths.html">Navigating Through Nodes</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/configuration/values.html">Giving Nodes Value</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin/configuration/serialization.html">Serializing Objects</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/injection.html">Dependency Injection</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/scheduler.html">Using the Scheduler</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/database.html">Working with Databases</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/permissions.html">Working with the Permissions API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/services.html">Working with Services</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/manager.html">Using the Plugin Manager</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/debugging.html">Plugin Debugging</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/message-sinks.html">Message Sinks</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin/tutorials.html">Tutorials</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Contributing to Sponge</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../guidelines.html">Contribution Guidelines</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">API Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/git.html">Git Workflow for SpongeAPI</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Implementation Development</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="debugging.html">Debugging Sponge Within the IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="mixins.html">Mixins</a></li>
<li class="toctree-l3"><a class="reference internal" href="git.html">Git Workflow for Sponge implementations</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Implementing DataManipulators</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../spongedocs.html">SpongeDocs Writing</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../porting.html">Porting Sponge to Other Platforms</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About the Sponge Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about/introduction.html">Introduction</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/faq.html">Frequently Asked Questions</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/future.html">Plans for the Future</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/license.html">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/posting.html">Forum Posting Guidelines</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/rules.html">Forum &amp; IRC Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/staff.html">Staff</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/glossary.html">Sponge Glossary</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/assets.html">Art Assets</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/history.html">The History of Sponge</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads.html">Download</a><ul class="simple">
</ul>
</li>
</ul>
<ul class="simple">
</ul>

      </div>
    </div> 

        <div class="document">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body" role="main">
                  
  <div class="section" id="implementing-datamanipulators">
<h1>Implementing DataManipulators<a class="headerlink" href="#implementing-datamanipulators" title="Permalink to this headline">¶</a></h1>
<p>This is a guide for contributors who want to help with Data API implementation by creating DataManipulators.
An updated list of DataManipulators to be implemented can be found at
<a class="reference external" href="https://github.com/SpongePowered/SpongeCommon/issues/8">SpongeCommon Issue #8</a>.</p>
<p>To fully implement a <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> these steps must be followed:</p>
<ol class="arabic simple">
<li>Implement the <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> itself</li>
<li>Implement the <tt class="docutils literal"><span class="pre">ImmutableDataManipulator</span></tt></li>
</ol>
<p>When these steps are complete, the following must also be done:</p>
<ol class="arabic simple" start="3">
<li>Register the <tt class="docutils literal"><span class="pre">Key</span></tt> in the <tt class="docutils literal"><span class="pre">KeyRegistry</span></tt></li>
<li>Implement the <tt class="docutils literal"><span class="pre">DataProcessor</span></tt></li>
<li>Implement the <tt class="docutils literal"><span class="pre">ValueProcessor</span></tt> for each value being represented by the <tt class="docutils literal"><span class="pre">DataManipulator</span></tt></li>
<li>Register everything in the <tt class="docutils literal"><span class="pre">SpongeSerializationRegistry</span></tt></li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure you follow our <a class="reference internal" href="../guidelines.html"><em>Contribution Guidelines</em></a>.</p>
</div>
<div class="section" id="implement-the-datamanipulator">
<h2>1. Implement the DataManipulator<a class="headerlink" href="#implement-the-datamanipulator" title="Permalink to this headline">¶</a></h2>
<p>The naming convention for <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> implementations is the name of the interface prefixed with &#8220;Sponge&#8221;.
So to implement the <tt class="docutils literal"><span class="pre">HealthData</span></tt> interface, we create a class named <tt class="docutils literal"><span class="pre">SpongeHealthData</span></tt> in the appropriate package.
For implementing the <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> first have it extend an appropriate abstract class from the
<tt class="docutils literal"><span class="pre">org.spongepowered.common.data.manipulator.mutable.common</span></tt> package. The most generic there is <tt class="docutils literal"><span class="pre">AbstractData</span></tt>
but there are also abstractions that reduce boilerplate code even more for some special cases like
<tt class="docutils literal"><span class="pre">DataManipulator</span></tt>s only containing a single value.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpongeHealthData</span> <span class="kd">extends</span> <span class="n">AbstractData</span><span class="o">&lt;</span><span class="n">HealthData</span><span class="o">,</span> <span class="n">ImmutableHealthData</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">HealthData</span> <span class="o">{</span>
    <span class="o">[...]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>There are two type arguments to the AbstractData class. The first is the interface implemented by this class, the
second is the interface implemented by the corresponding <tt class="docutils literal"><span class="pre">ImmutableDataManipulator</span></tt>.</p>
<div class="section" id="the-constructor">
<h3>The Constructor<a class="headerlink" href="#the-constructor" title="Permalink to this headline">¶</a></h3>
<p>In most cases while implementing an abstract Manipulator you want to have two constructors:</p>
<ul class="simple">
<li>One without arguments (no-args) which calls the second constructor with &#8220;default&#8221; values</li>
<li>The second constructor that takes all the values it supports.</li>
</ul>
<p>The second constructor must</p>
<ul class="simple">
<li>make a call to the <tt class="docutils literal"><span class="pre">AbstractData</span></tt> constructor, passing the class reference for the implemented interface.</li>
<li>make sure the values passed are valid</li>
<li>call the <tt class="docutils literal"><span class="pre">registerGettersAndSetters()</span></tt> method</li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">google</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">base</span><span class="o">.</span><span class="na">Preconditions</span><span class="o">.</span><span class="na">checkArgument</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpongeHealthData</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">SpongeHealthData</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">(</span><span class="mi">20</span><span class="n">D</span><span class="o">,</span> <span class="mi">20</span><span class="n">D</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">SpongeHealthData</span><span class="o">(</span><span class="kt">double</span> <span class="n">currentHealth</span><span class="o">,</span> <span class="kt">double</span> <span class="n">maxHealth</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">HealthData</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">checkArgument</span><span class="o">(</span><span class="n">currentHealth</span> <span class="o">&gt;=</span> <span class="mf">0.0</span> <span class="o">&amp;&amp;</span> <span class="n">currentHealth</span> <span class="o">&lt;=</span> <span class="o">(</span><span class="kt">double</span><span class="o">)</span> <span class="n">Float</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">);</span>
        <span class="n">checkArgument</span><span class="o">(</span><span class="n">maxHealth</span> <span class="o">&gt;=</span> <span class="mf">0.0</span> <span class="o">&amp;&amp;</span> <span class="n">maxHealth</span> <span class="o">&lt;=</span> <span class="o">(</span><span class="kt">double</span><span class="o">)</span> <span class="n">Float</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">currentHealth</span> <span class="o">=</span> <span class="n">currentHealth</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">maximumHealth</span> <span class="o">=</span> <span class="n">maxHealth</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">registerGettersAndSetters</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="o">...</span>

<span class="o">}</span>
</pre></div>
</div>
<p>Since we know that both current health and maximum health are bounded values, we need to make sure no values
outside of these bounds can be passed. To achieve this we use guava&#8217;s <tt class="docutils literal"><span class="pre">Preconditions</span></tt> of which we import the
required methods statically.</p>
</div>
<div class="section" id="accessors-defined-by-the-interface">
<h3>Accessors defined by the Interface<a class="headerlink" href="#accessors-defined-by-the-interface" title="Permalink to this headline">¶</a></h3>
<p>The interface we implement specifies some methods to access <tt class="docutils literal"><span class="pre">Value</span></tt> objects. For <tt class="docutils literal"><span class="pre">HealthData</span></tt>, those are
<tt class="docutils literal"><span class="pre">health()</span></tt> and <tt class="docutils literal"><span class="pre">maxHealth()</span></tt>. Every call to those should yield a new <tt class="docutils literal"><span class="pre">Value</span></tt>.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="n">MutableBoundedValue</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="nf">health</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">SpongeValueBuilder</span><span class="o">.</span><span class="na">boundedBuilder</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">)</span>
        <span class="o">.</span><span class="na">minimum</span><span class="o">(</span><span class="mf">0.0</span><span class="o">)</span>
        <span class="o">.</span><span class="na">maximum</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">maximumHealth</span><span class="o">)</span>
        <span class="o">.</span><span class="na">defaultValue</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">maximumHealth</span><span class="o">)</span>
        <span class="o">.</span><span class="na">actualValue</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">currentHealth</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Since <tt class="docutils literal"><span class="pre">Double</span></tt> is a <tt class="docutils literal"><span class="pre">Comparable</span></tt>, we do not need to explicitly specify a comparator.</p>
</div>
<p>If no current value is specified, calling <tt class="docutils literal"><span class="pre">get()</span></tt> on the <tt class="docutils literal"><span class="pre">Value</span></tt> returns the default value.</p>
</div>
<div class="section" id="copying-and-serialization">
<h3>Copying and Serialization<a class="headerlink" href="#copying-and-serialization" title="Permalink to this headline">¶</a></h3>
<p>The two methods <tt class="docutils literal"><span class="pre">copy()</span></tt> and <tt class="docutils literal"><span class="pre">asImmutable()</span></tt> are not much work to implement. For both you just need to return
a mutable or an immutable data manipulator respectively, containing the same data as the current instance.</p>
<p>The method <tt class="docutils literal"><span class="pre">toContainer()</span></tt> is used for serialization purposes. Use a <tt class="docutils literal"><span class="pre">MemoryDataContainer</span></tt> as the result
and apply to it the values stored within this instance. A <tt class="docutils literal"><span class="pre">DataContainer</span></tt> is basically a map mapping <tt class="docutils literal"><span class="pre">DataQuery</span></tt>s
to values. Since a <tt class="docutils literal"><span class="pre">Key</span></tt> always contains a corresponding <tt class="docutils literal"><span class="pre">DataQuery</span></tt>, just use those by passing the <tt class="docutils literal"><span class="pre">Key</span></tt> directly.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="n">DataContainer</span> <span class="nf">toContainer</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">MemoryDataContainer</span><span class="o">()</span>
        <span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">currentHealth</span><span class="o">)</span>
        <span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">maximumHealth</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="registergettersandsetters">
<h3>registerGettersAndSetters()<a class="headerlink" href="#registergettersandsetters" title="Permalink to this headline">¶</a></h3>
<p>A <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> also provides methods to get and set data using keys. The implementation for this is handled
by <tt class="docutils literal"><span class="pre">AbstractData</span></tt>, but we must tell it which data it can access and how. Therefore, in the
<tt class="docutils literal"><span class="pre">registerGettersAndSetters()</span></tt> method we need to do the following for each value:</p>
<ul class="simple">
<li>register a <tt class="docutils literal"><span class="pre">Supplier</span></tt> to directly get the value</li>
<li>register a <tt class="docutils literal"><span class="pre">Consumer</span></tt> to directly set the value</li>
<li>register a <tt class="docutils literal"><span class="pre">Supplier&lt;Value&gt;</span></tt> to get the mutable <tt class="docutils literal"><span class="pre">Value</span></tt></li>
</ul>
<p><tt class="docutils literal"><span class="pre">Supplier</span></tt> and <tt class="docutils literal"><span class="pre">Consumer</span></tt> are functional interfaces, so Java 8 Lambdas can be used.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">private</span> <span class="kt">void</span> <span class="nf">setCurrentHealthIfValid</span><span class="o">(</span><span class="kt">double</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="o">&gt;=</span> <span class="mf">0.0</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="o">(</span><span class="kt">double</span><span class="o">)</span> <span class="n">Float</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">currentHealth</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;Invalid value for current health&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kt">void</span> <span class="nf">setMaximumHealthIfValid</span><span class="o">(</span><span class="kt">double</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="o">&gt;=</span> <span class="mf">0.0</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="o">(</span><span class="kt">double</span><span class="o">)</span> <span class="n">Float</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">maximumHealth</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;Invalid value for maximum health&quot;</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>

<span class="kd">private</span> <span class="kt">void</span> <span class="nf">registerGettersAndSetters</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">registerFieldGetter</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">,</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="n">SpongeHealthData</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">currentHealth</span><span class="o">);</span>
    <span class="n">registerFieldSetter</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">,</span> <span class="n">SpongeHealthData</span><span class="o">.</span><span class="na">this</span><span class="o">::</span><span class="n">setCurrentHealthIfValid</span><span class="o">);</span>
    <span class="n">registerKeyValue</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">,</span> <span class="n">SpongeHealthData</span><span class="o">.</span><span class="na">this</span><span class="o">::</span><span class="n">health</span><span class="o">);</span>

    <span class="n">registerFieldGetter</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">,</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="n">SpongeHealthData</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">maximumHealth</span><span class="o">);</span>
    <span class="n">registerFieldSetter</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">,</span> <span class="n">SpongeHealthData</span><span class="o">.</span><span class="na">this</span><span class="o">::</span><span class="n">setMaximumHealthIfValid</span><span class="o">);</span>
    <span class="n">registerKeyValue</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">,</span> <span class="n">SpongeHealthData</span><span class="o">.</span><span class="na">this</span><span class="o">::</span><span class="n">maxHealth</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">Consumer</span></tt> registered as field setter must perform the adequate checks to make sure the supplied value is valid.
This applies especially for <tt class="docutils literal"><span class="pre">DataHolder``s</span> <span class="pre">which</span> <span class="pre">won't</span> <span class="pre">accept</span> <span class="pre">negative</span> <span class="pre">values.</span> <span class="pre">If</span> <span class="pre">a</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">invalid,</span> <span class="pre">an</span>
<span class="pre">``IllegalArgumentException</span></tt> should be thrown.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The validity criteria for those setters are the same as for the respective <tt class="docutils literal"><span class="pre">Value</span></tt> object, so you might delegate
the validity check to a call of <tt class="docutils literal"><span class="pre">this.health().set()</span></tt> and just set <tt class="docutils literal"><span class="pre">this.currentHealth</span> <span class="pre">=</span> <span class="pre">value</span></tt> if the first
line has no thrown an exception yet.</p>
</div>
<p>That&#8217;s it. The <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> should be done now.</p>
</div>
</div>
<div class="section" id="implement-the-immutabledatamanipulator">
<h2>2. Implement the ImmutableDataManipulator<a class="headerlink" href="#implement-the-immutabledatamanipulator" title="Permalink to this headline">¶</a></h2>
<p>Implementing the <tt class="docutils literal"><span class="pre">ImmutableDataManipulator</span></tt> is similar to implementing the mutable one.</p>
<p>The only differences are:</p>
<ul class="simple">
<li>The class name is formed by prefixing the mutable <tt class="docutils literal"><span class="pre">DataManipulator</span></tt>s name with <tt class="docutils literal"><span class="pre">ImmutableSponge</span></tt></li>
<li>Inherit from <tt class="docutils literal"><span class="pre">ImmutableAbstractData</span></tt> instead</li>
<li>Instead of <tt class="docutils literal"><span class="pre">registerGettersAndSetters()</span></tt>, the method is called <tt class="docutils literal"><span class="pre">registerGetters()</span></tt></li>
</ul>
<p>When creating <tt class="docutils literal"><span class="pre">ImmutableDataHolder</span></tt>s or <tt class="docutils literal"><span class="pre">ImmutableValue</span></tt>s, check if it makes sense to use the
<tt class="docutils literal"><span class="pre">ImmutableDataCachingUtil</span></tt>. For example if you have <tt class="docutils literal"><span class="pre">WetData</span></tt> which contains nothing more than a boolean, it
is more feasible to retain only two cached instances of <tt class="docutils literal"><span class="pre">ImmutableWetData</span></tt> - one for each possible value. For
manipulators and values with many possible values (like <tt class="docutils literal"><span class="pre">SignData</span></tt>) however, caching is proven to be too expensive.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You should declare the fields of an <tt class="docutils literal"><span class="pre">ImmutableDataManipulator</span></tt> as <tt class="docutils literal"><span class="pre">final</span></tt> in order to
prevent accidental changes.</p>
</div>
</div>
<div class="section" id="register-the-key-in-the-keyregistry">
<h2>3. Register the Key in the KeyRegistry<a class="headerlink" href="#register-the-key-in-the-keyregistry" title="Permalink to this headline">¶</a></h2>
<p>The next step is to register your <tt class="docutils literal"><span class="pre">Key</span></tt>s to the <tt class="docutils literal"><span class="pre">KeyRegistry</span></tt>. To do so, locate the
<tt class="docutils literal"><span class="pre">org.spongepowered.common.data.key.KeyRegistry</span></tt> class and find the static <tt class="docutils literal"><span class="pre">generateKeyMap()</span></tt> function.
There add a line to register (and create) your used keys.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">keyMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;health&quot;</span><span class="o">),</span> <span class="n">makeSingleKey</span><span class="o">(</span><span class="n">Double</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">MutableBoundedValue</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">of</span><span class="o">(</span><span class="s">&quot;Health&quot;</span><span class="o">)));</span>
<span class="n">keyMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;max_health&quot;</span><span class="o">,</span> <span class="n">makeSingleKey</span><span class="o">(</span><span class="n">Double</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">MutableBoundedValue</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">of</span><span class="o">(</span><span class="s">&quot;MaxHealth&quot;</span><span class="o">)));</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">keyMap</span></tt> maps strings to <tt class="docutils literal"><span class="pre">Key</span></tt>s. The string used should be the corresponding constant name from
the <tt class="docutils literal"><span class="pre">Keys</span></tt> utility class in lowercase. The <tt class="docutils literal"><span class="pre">Key</span></tt> itself is created by one of the static methods
provided by <tt class="docutils literal"><span class="pre">KeyFactory</span></tt>, in most cases <tt class="docutils literal"><span class="pre">makeSingleKey</span></tt>. <tt class="docutils literal"><span class="pre">makeSingleKey</span></tt> requires first a class reference
for the underlying data, which in our case is a &#8220;Double&#8221;, then a class reference for the <tt class="docutils literal"><span class="pre">Value</span></tt> type used.
The third argument is the <tt class="docutils literal"><span class="pre">DataQuery</span></tt> used for serialization. It is created from the statically imported
<tt class="docutils literal"><span class="pre">DataQuery.of()</span></tt> method accepting a string. This string should also be the constant name, stripped of
underscores and capitalization changed to upper camel case.</p>
</div>
<div class="section" id="implement-the-dataprocessors">
<h2>4. Implement the DataProcessors<a class="headerlink" href="#implement-the-dataprocessors" title="Permalink to this headline">¶</a></h2>
<p>Next up is the <tt class="docutils literal"><span class="pre">DataProcessor</span></tt>. A <tt class="docutils literal"><span class="pre">DataProcessor</span></tt> serves as a bridge between our <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> and
Minecraft&#8217;s objects. Whenever any data is requested from or offered to <tt class="docutils literal"><span class="pre">DataHolders</span></tt> that exist in Vanilla
Minecraft, those calls end up being delegated to a <tt class="docutils literal"><span class="pre">DataProcessor</span></tt> or a <tt class="docutils literal"><span class="pre">ValueProcessor</span></tt>.</p>
<p>For your name, you should use the name of the <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> interface and append <tt class="docutils literal"><span class="pre">Processor</span></tt>. Thus for <tt class="docutils literal"><span class="pre">HealthData</span></tt> we create a <tt class="docutils literal"><span class="pre">HealthDataProcessor</span></tt>.</p>
<p>In order to reduce boilerplate code, the <tt class="docutils literal"><span class="pre">DataProcessor</span></tt> should inherit from the appropriate abstract class in
the <tt class="docutils literal"><span class="pre">org.spongepowered.common.data.processor.common</span></tt> package. Since health can only be present on certain
entities, we can make use of the <tt class="docutils literal"><span class="pre">AbstractEntityDataProcessor</span></tt> which is specifically targeted at <tt class="docutils literal"><span class="pre">Entities</span></tt>
based on <tt class="docutils literal"><span class="pre">net.minecraft.entity.Entity</span></tt>. <tt class="docutils literal"><span class="pre">AbstractEntitySingleDataProcessor</span></tt> would require less
implementation work, but cannot be used as <tt class="docutils literal"><span class="pre">HealthData</span></tt> contains more than just one value.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HealthDataProcessor</span> <span class="kd">extends</span> <span class="n">AbstractEntityDataProcessor</span><span class="o">&lt;</span><span class="n">EntityLivingBase</span><span class="o">,</span> <span class="n">HealthData</span><span class="o">,</span> <span class="n">ImmutableHealthData</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">HealthDataProcessor</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">EntityLivingBase</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="o">[...]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Depending on which abstraction you use, the methods you have to implement may differ greatly, depending on how
much implementation work already could be done in the abstract class. Generally, the methods can be categorized.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">It is possible to create multiple <tt class="docutils literal"><span class="pre">DataProcessor</span></tt>s for the same data. If vastly different <tt class="docutils literal"><span class="pre">DataHolder</span></tt>s
should be supported (for example both a <tt class="docutils literal"><span class="pre">TileEntity</span></tt> and a matching <tt class="docutils literal"><span class="pre">ItemStack</span></tt>), it may be beneficial to
create one processor for each type of <tt class="docutils literal"><span class="pre">DataHolder</span></tt> in order to make full use of the provided abstractions.
Make sure you follow the package structure for items, tileentities and entities.</p>
</div>
<div class="section" id="validation-methods">
<h3>Validation Methods<a class="headerlink" href="#validation-methods" title="Permalink to this headline">¶</a></h3>
<p>Always return a boolean value. If the method is called <tt class="docutils literal"><span class="pre">supports()</span></tt> it should perform a general check if the supplied target generally supports the kind of data handled by our <tt class="docutils literal"><span class="pre">DataProcessor</span></tt>.</p>
<p>For our <tt class="docutils literal"><span class="pre">HealthDataProcessor</span></tt> <tt class="docutils literal"><span class="pre">supports()</span></tt> is implemented by the <tt class="docutils literal"><span class="pre">AbstractEntityDataProcessor</span></tt>. Per
default, it will return true if the supplied argument is an instance of the class specified when calling the
<tt class="docutils literal"><span class="pre">super()</span></tt> constructor.</p>
<p>Instead, we are required to provide a <tt class="docutils literal"><span class="pre">doesDataExist()</span></tt> method. Since the abstraction does not know how to
obtain the data, it leaves this function to be implemented. As the name says, the method should check if the data
already exists on the supported target. For the <tt class="docutils literal"><span class="pre">HealthDataProcessor</span></tt>, this always returns true, since every
living entity always has health.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">doesDataExist</span><span class="o">(</span><span class="n">EntityLivingBase</span> <span class="n">entity</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="setter-methods">
<h3>Setter Methods<a class="headerlink" href="#setter-methods" title="Permalink to this headline">¶</a></h3>
<p>A setter method receives a <tt class="docutils literal"><span class="pre">DataHolder</span></tt> of some sort and some data that should be applied to it, if possible.</p>
<p>The <tt class="docutils literal"><span class="pre">DataProcessor</span></tt> interface defines a <tt class="docutils literal"><span class="pre">set()</span></tt> method accepting a <tt class="docutils literal"><span class="pre">DataHolder</span></tt> and a <tt class="docutils literal"><span class="pre">DataManipulator</span></tt>
which returns a <tt class="docutils literal"><span class="pre">DataTransactionResult</span></tt>. Depending on the abstraction class used, some of the necessary
functionality might already be implemented.</p>
<p>In this case, the <tt class="docutils literal"><span class="pre">AbstractEntityDataProcessor</span></tt> takes care of most of it and just requires a method to set
some values to return <tt class="docutils literal"><span class="pre">true</span></tt> if it was successful and <tt class="docutils literal"><span class="pre">false</span></tt> if it was not. All checks if the
<tt class="docutils literal"><span class="pre">DataHolder</span></tt> supports the <tt class="docutils literal"><span class="pre">Data</span></tt> is taken care of, the abstract class will just pass a Map mapping each
<tt class="docutils literal"><span class="pre">Key</span></tt> from the <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> to its value and then construct a <tt class="docutils literal"><span class="pre">DataTransactionResult</span></tt> depending on
whether the operation was successful or not.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">set</span><span class="o">(</span><span class="n">EntityLivingBase</span> <span class="n">entity</span><span class="o">,</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">Key</span><span class="o">&lt;?&gt;,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">keyValues</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">entity</span><span class="o">.</span><span class="na">getEntityAttribute</span><span class="o">(</span><span class="n">SharedMonsterAttributes</span><span class="o">.</span><span class="na">maxHealth</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setBaseValue</span><span class="o">(((</span><span class="n">Double</span><span class="o">)</span> <span class="n">keyValues</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">)).</span><span class="na">floatValue</span><span class="o">());</span>
    <span class="n">entity</span><span class="o">.</span><span class="na">setHealth</span><span class="o">(((</span><span class="n">Double</span><span class="o">)</span> <span class="n">keyValues</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">)).</span><span class="na">floatValue</span><span class="o">());</span>
    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">To understand <tt class="docutils literal"><span class="pre">DataTransactionResult</span></tt> s, check the <a class="reference internal" href="../../plugin/data/transactions.html"><em>corresponding docs page</em></a> and refer to the <a class="reference external" href="https://jd.spongepowered.org/index.html?org/spongepowered/api/data/DataTransactionBuilder.html">DataTransactionBuilder API
Docs</a> to
create one.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Especially when working with <tt class="docutils literal"><span class="pre">ItemStack</span></tt>s it is likely that you will need to deal with <tt class="docutils literal"><span class="pre">NBTTagCompound</span></tt>s
directly. Many NBT keys are already defined as constants in the <tt class="docutils literal"><span class="pre">org.spongepowered.common.data.util.NbtDataUtil</span></tt>
class. If your required key is not there, you need to add it in order to avoid &#8216;magic values&#8217; in the code.</p>
</div>
</div>
<div class="section" id="removal-method">
<h3>Removal Method<a class="headerlink" href="#removal-method" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">remove()</span></tt> method attempts to remove data from the <tt class="docutils literal"><span class="pre">DataHolder</span></tt> and returns a <tt class="docutils literal"><span class="pre">DataTransactionResult</span></tt>.</p>
<p>Removal is not abstracted in any abstract <tt class="docutils literal"><span class="pre">DataProcessor</span></tt> as the abstractions have no way of knowing if the data
is always present on a compatible <tt class="docutils literal"><span class="pre">DataHolder</span></tt> (like <tt class="docutils literal"><span class="pre">WetData</span></tt> or <tt class="docutils literal"><span class="pre">HealthData</span></tt>) or if it may or may not be present
(like <tt class="docutils literal"><span class="pre">LoreData</span></tt>). If the data is always present, <tt class="docutils literal"><span class="pre">remove()</span></tt> must always fail. If it may or may not be present,
<tt class="docutils literal"><span class="pre">remove()</span></tt> should remove it. In such cases the <tt class="docutils literal"><span class="pre">doesDataExist()</span></tt> method should be overridden.</p>
<p>Since a living entity <em>always</em> has health, <tt class="docutils literal"><span class="pre">HealthData</span></tt> is always present and removal therefore not supported.
Therefore we just return <tt class="docutils literal"><span class="pre">failNoData()</span></tt> and do not override the <tt class="docutils literal"><span class="pre">doesDataExist()</span></tt> method.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="n">DataTransactionResult</span> <span class="nf">remove</span><span class="o">(</span><span class="n">DataHolder</span> <span class="n">dataHolder</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">DataTransactionBuilder</span><span class="o">.</span><span class="na">failNoData</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="getter-methods">
<h3>Getter Methods<a class="headerlink" href="#getter-methods" title="Permalink to this headline">¶</a></h3>
<p>Getter methods obtain data from a <tt class="docutils literal"><span class="pre">DataHolder</span></tt> and return an optional <tt class="docutils literal"><span class="pre">DataManipulator</span></tt>. The
<tt class="docutils literal"><span class="pre">DataProcessor</span></tt> interface specifies the methods <tt class="docutils literal"><span class="pre">from()</span></tt> and <tt class="docutils literal"><span class="pre">createFrom()</span></tt>, the difference being that
<tt class="docutils literal"><span class="pre">from()</span></tt> will return <tt class="docutils literal"><span class="pre">Optional.empty()</span></tt> if the data holder is compatible, but currently does not contain the
data, while <tt class="docutils literal"><span class="pre">createFrom()</span></tt> will provide a <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> holding default values in that case.</p>
<p>Again, <tt class="docutils literal"><span class="pre">AbstractEntityDataProcessor</span></tt> will provide most of the implementation for this and only requires a
method to get the actual values present on the <tt class="docutils literal"><span class="pre">DataHolder</span></tt>. This method is only called after <tt class="docutils literal"><span class="pre">supports()</span></tt>
and <tt class="docutils literal"><span class="pre">doesDataExist()</span></tt> both returned true, which means it is run under the assumption that the data is present.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the data may not always exist on the target <tt class="docutils literal"><span class="pre">DataHolder</span></tt>, e.g. if the <tt class="docutils literal"><span class="pre">remove()</span></tt> function may be successful
(see above), it is imperative that you override the <tt class="docutils literal"><span class="pre">doesDataExist()</span></tt> method so that it returns <tt class="docutils literal"><span class="pre">true</span></tt>
if the data is present and <tt class="docutils literal"><span class="pre">false</span></tt> if it is not.</p>
</div>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">protected</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">Key</span><span class="o">&lt;?&gt;,</span> <span class="o">?&gt;</span> <span class="n">getValues</span><span class="o">(</span><span class="n">EntityLivingBase</span> <span class="n">entity</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">double</span> <span class="n">health</span> <span class="o">=</span> <span class="n">entity</span><span class="o">.</span><span class="na">getHealth</span><span class="o">();</span>
    <span class="kd">final</span> <span class="kt">double</span> <span class="n">maxHealth</span> <span class="o">=</span> <span class="n">entity</span><span class="o">.</span><span class="na">getMaxHealth</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">ImmutableMap</span><span class="o">.&lt;</span><span class="n">Key</span><span class="o">&lt;?&gt;,</span> <span class="n">Object</span><span class="o">&gt;</span><span class="n">of</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">,</span> <span class="n">health</span><span class="o">,</span> <span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">,</span> <span class="n">maxHealth</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="filler-methods">
<h3>Filler Methods<a class="headerlink" href="#filler-methods" title="Permalink to this headline">¶</a></h3>
<p>A filler method is different from a getter method in that it receives a <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> to fill with values.
These values either come from a <tt class="docutils literal"><span class="pre">DataHolder</span></tt> or have to be deserialized from a <tt class="docutils literal"><span class="pre">DataContainer</span></tt>. The method
returns <tt class="docutils literal"><span class="pre">Optional.empty()</span></tt> if the <tt class="docutils literal"><span class="pre">DataHolder</span></tt> is incompatible.</p>
<p><tt class="docutils literal"><span class="pre">AbstractEntityDataProcessor</span></tt> already handles filling from <tt class="docutils literal"><span class="pre">DataHolders</span></tt> by creating a <tt class="docutils literal"><span class="pre">DataManipulator</span></tt>
from the holder and then merging it with the supplied manipulator, but the <tt class="docutils literal"><span class="pre">DataContainer</span></tt> deserialization it
can not provide.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">HealthData</span><span class="o">&gt;</span> <span class="nf">fill</span><span class="o">(</span><span class="n">DataContainer</span> <span class="n">container</span><span class="o">,</span> <span class="n">HealthData</span> <span class="n">healthData</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">health</span> <span class="o">=</span> <span class="n">container</span><span class="o">.</span><span class="na">getDouble</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">.</span><span class="na">getQuery</span><span class="o">());</span>
    <span class="kd">final</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">maxHealth</span> <span class="o">=</span> <span class="n">container</span><span class="o">.</span><span class="na">getDouble</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">.</span><span class="na">getQuery</span><span class="o">());</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">health</span><span class="o">.</span><span class="na">isPresent</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">maxHealth</span><span class="o">.</span><span class="na">isPresent</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">healthData</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">,</span> <span class="n">health</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
        <span class="n">healthData</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">,</span> <span class="n">maxHealth</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">healthData</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">empty</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">fill()</span></tt> method is to return an <tt class="docutils literal"><span class="pre">Optional</span></tt> of the altered healthData, if and only if all required data could
be obtained from the <tt class="docutils literal"><span class="pre">DataContainer</span></tt>.</p>
</div>
<div class="section" id="other-methods">
<h3>Other Methods<a class="headerlink" href="#other-methods" title="Permalink to this headline">¶</a></h3>
<p>Depending on the abstract superclass used, some other methods may be required. For instance,
<tt class="docutils literal"><span class="pre">AbstractEntityDataProcessor</span></tt> needs to create <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> instances in various points. It can&#8217;t do this
since it knows neither the implementation class nor the constructor to use. Therefore it utilizes an abstract
function that has to be provided by the final implementation. This does nothing more than create a
<tt class="docutils literal"><span class="pre">DataManipulator</span></tt> with default data.</p>
<p>If you implemented your <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> as recommended, you can just use the no-args constructor.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">protected</span> <span class="n">HealthData</span> <span class="nf">createManipulator</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">SpongeHealthData</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="implement-the-valueprocessors">
<h2>5. Implement the ValueProcessors<a class="headerlink" href="#implement-the-valueprocessors" title="Permalink to this headline">¶</a></h2>
<p>Not only a <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> may be offered to a <tt class="docutils literal"><span class="pre">DataHolder</span></tt>, but also a keyed <tt class="docutils literal"><span class="pre">Value</span></tt> on its own.
Therefore, you need to provide at least one <tt class="docutils literal"><span class="pre">ValueProcessor</span></tt> for every <tt class="docutils literal"><span class="pre">Key</span></tt> present in your
<tt class="docutils literal"><span class="pre">DataManipulator</span></tt>. A <tt class="docutils literal"><span class="pre">ValueProcessor</span></tt> is named after the constant name of its <tt class="docutils literal"><span class="pre">Key</span></tt> in the <tt class="docutils literal"><span class="pre">Keys</span></tt> class
in a fashion similar to its <tt class="docutils literal"><span class="pre">DataQuery</span></tt>. The constant name is stripped of underscores, used in upper camel case
and then suffixed with <tt class="docutils literal"><span class="pre">ValueProcessor</span></tt>.</p>
<p>A <tt class="docutils literal"><span class="pre">ValueProcessor</span></tt> should always inherit from <tt class="docutils literal"><span class="pre">AbstractSpongeValueProcessor</span></tt>, which already will handle a
portion of the <tt class="docutils literal"><span class="pre">supports()</span></tt> checks based on the type of the <tt class="docutils literal"><span class="pre">DataHolder</span></tt>. For <tt class="docutils literal"><span class="pre">Keys.HEALTH</span></tt>, we&#8217;ll create
and construct <tt class="docutils literal"><span class="pre">HealthValueProcessor</span></tt> as follows.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HealthValueProcessor</span> <span class="kd">extends</span> <span class="n">AbstractSpongeValueProcessor</span><span class="o">&lt;</span><span class="n">EntityLivingBase</span><span class="o">,</span> <span class="n">Double</span><span class="o">,</span>
    <span class="n">MutableBoundedValue</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">HealthValueProcessor</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">EntityLivingBase</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="o">[...]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Now the <tt class="docutils literal"><span class="pre">AbstractSpongeValueProcessor</span></tt> will relieve us of the necessity to check if the value is supported.
It is assumed to be supported if the target <tt class="docutils literal"><span class="pre">ValueContainer</span></tt> is of the type <tt class="docutils literal"><span class="pre">EntityLivingBase</span></tt>.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">For a more fine-grained control over what <tt class="docutils literal"><span class="pre">EntityLivingBase</span></tt> objects are supported, the
<tt class="docutils literal"><span class="pre">supports(EntityLivingBase)</span></tt> method can be overridden.</p>
</div>
<p>Again, most work is done by the abstraction class. We just need to implement two helper methods for creating
a <tt class="docutils literal"><span class="pre">Value</span></tt> and its immutable counterpart and three methods to get, set and remove data.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">protected</span> <span class="n">MutableBoundedValue</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="nf">constructValue</span><span class="o">(</span><span class="n">Double</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">SpongeValueBuilder</span><span class="o">.</span><span class="na">boundedBuilder</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">)</span>
        <span class="o">.</span><span class="na">minimum</span><span class="o">(</span><span class="mf">0.0</span><span class="o">)</span>
        <span class="o">.</span><span class="na">maximum</span><span class="o">((</span><span class="kt">double</span><span class="o">)</span> <span class="n">Float</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">)</span>
        <span class="o">.</span><span class="na">defaultValue</span><span class="o">(</span><span class="mf">20.0</span><span class="o">)</span>
        <span class="o">.</span><span class="na">actualValue</span><span class="o">(</span><span class="n">value</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">protected</span> <span class="n">ImmutableValue</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="nf">constructImmutableValue</span><span class="o">(</span><span class="n">Double</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">constructValue</span><span class="o">(</span><span class="n">value</span><span class="o">).</span><span class="na">asImmutable</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">protected</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="nf">getVal</span><span class="o">(</span><span class="n">EntityLivingBase</span> <span class="n">container</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">((</span><span class="kt">double</span><span class="o">)</span> <span class="n">container</span><span class="o">.</span><span class="na">getHealth</span><span class="o">());</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Since it is impossible for an <tt class="docutils literal"><span class="pre">EntityLivingBase</span></tt> to not have health, this method will never return
<tt class="docutils literal"><span class="pre">Optional.empty()</span></tt>.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">set</span><span class="o">(</span><span class="n">EntityLivingBase</span> <span class="n">container</span><span class="o">,</span> <span class="n">Double</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="n">D</span> <span class="o">&amp;&amp;</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="o">(</span><span class="kt">double</span><span class="o">)</span> <span class="n">Float</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">container</span><span class="o">.</span><span class="na">setHealth</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">floatValue</span><span class="o">());</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">set()</span></tt> method will return a boolean value indicating whether the value could successfully be set.
This implementation will reject values outside of the bounds used in our value construction methods above.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="n">DataTransactionResult</span> <span class="nf">removeFrom</span><span class="o">(</span><span class="n">ValueContainer</span><span class="o">&lt;?&gt;</span> <span class="n">container</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">DataTransactionBuilder</span><span class="o">.</span><span class="na">failNoData</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Since the data is guaranteed to be always present, attempts to remove it will just fail.</p>
</div>
<div class="section" id="register-processors">
<h2>6. Register Processors<a class="headerlink" href="#register-processors" title="Permalink to this headline">¶</a></h2>
<p>In order for Sponge to be able to use our manipulators and processors, we need to register them. This is done
in the <tt class="docutils literal"><span class="pre">org.spongepowered.common.data.SpongeSerializationRegistry</span></tt> class. In the <tt class="docutils literal"><span class="pre">setupSerialization</span></tt> method
there are two large blocks of registrations to which we add our processors.</p>
<div class="section" id="dataprocessors">
<h3>DataProcessors<a class="headerlink" href="#dataprocessors" title="Permalink to this headline">¶</a></h3>
<p>A <tt class="docutils literal"><span class="pre">DataProcessor</span></tt> is registered alongside the interface and implementation classes of the <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> it
handles. For every pair of mutable / immutable <tt class="docutils literal"><span class="pre">DataManipulator</span></tt>s at least one <tt class="docutils literal"><span class="pre">DataProcessor</span></tt> must be registered.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">dataRegistry</span><span class="o">.</span><span class="na">registerDataProcessorAndImpl</span><span class="o">(</span><span class="n">HealthData</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">SpongeHealthData</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
    <span class="n">ImmutableHealthData</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">ImmutableSpongeHealthData</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
    <span class="k">new</span> <span class="n">HealthDataProcessor</span><span class="o">());</span>
</pre></div>
</div>
</div>
<div class="section" id="valueprocessors">
<h3>ValueProcessors<a class="headerlink" href="#valueprocessors" title="Permalink to this headline">¶</a></h3>
<p>Value processors are registered at the bottom of the very same function. For each <tt class="docutils literal"><span class="pre">Key</span></tt> multiple processors
can be registered by subsequent calls of the <tt class="docutils literal"><span class="pre">registerValueProcessor()</span></tt> method.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">dataRegistry</span><span class="o">.</span><span class="na">registerValueProcessor</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">,</span> <span class="k">new</span> <span class="n">HealthValueProcessor</span><span class="o">());</span>
<span class="n">dataRegistry</span><span class="o">.</span><span class="na">registerValueProcessor</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">,</span> <span class="k">new</span> <span class="n">MaxHealthValueProcessor</span><span class="o">());</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="further-information">
<h2>Further Information<a class="headerlink" href="#further-information" title="Permalink to this headline">¶</a></h2>
<p>With <tt class="docutils literal"><span class="pre">Data</span></tt> being a rather abstract concept in Sponge, it is hard to give general directions on how to
acquire the needed data from the Minecraft classes itself. It may be helpful to take a look at already
implemented processors similar to the one you are working on to get a better understanding of how it should work.</p>
<p>If you are stuck or are unsure about certain aspects, go visit the <tt class="docutils literal"><span class="pre">#spongedev</span></tt> IRC channel, the forums, or
open up an Issue on github. Be sure to check the <a class="reference external" href="https://github.com/SpongePowered/SpongeCommon/issues/8">Data Processor Implementation Checklist</a> for general
contribution requirements.</p>
</div>
</div>


                </div>
              </div>
            </div>
          <div class="clearer"></div>
        </div>
        <div class="footer" role="contentinfo">
              &copy; Copyright 2014-2015, Sponge Contributors.
            Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
        </div>
    </div>
  </body>
</html>