<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">




<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
     <title>Working with Blocks &mdash; Sponge 0.0.1 documentation</title>
    
  <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sponge.css" type="text/css" />
  <link href='//fonts.googleapis.com/css?family=Source+Code+Pro|Roboto:400italic,700italic,700,400' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../../_static/tomorrow.css" type="text/css" />
  <link id="syntax-highlighting-ref" rel="stylesheet" href="../../_static/tomorrow_night.css" type="text/css" />
      
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    '../../',
      VERSION:     '0.0.1',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/store.min.js"></script>
    <script type="text/javascript" src="../../_static/lights.js"></script>
        <link rel="top" title="Sponge 0.0.1 documentation" href="../../index.html" /> 
  </head>
  <body role="document">
    <div class="container">
  <div class="related" role="navigation" aria-label="related navigation">
    <h3>Navigation</h3>
    <ul>
      <span style="float: right" class="lights" title="Toggles syntax highlighting between light and dark">
        <i class="icon-lamp lights-icon"></i> Highlight Code Light/Dark
      </span>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../../index.html">Sponge 0.0.1 documentation</a> &raquo;</li> 
    </ul>
  </div> 
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
    <form class="search" action="../../search.html" method="get">
      <input class="field" type="text" name="q" autocomplete="off" />
      <button class="submit" type="submit"><i class="icon-search"></i></button>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%"></p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Creating a Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../server/getting-started/index.html">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/jre.html">Installing the JRE</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/migrating/index.html">Migrating to Sponge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/migrating/bukkit.html">Migrating from Bukkit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/migrating/canary.html">Migrating from Canary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/implementations/index.html">Choosing an Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/sponge.html">Sponge (Forge coremod)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/granite.html">Granite</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/glowstone.html">Glowstone</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/launch-script.html">Creating a Launch Script</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/port-forward.html">Port Forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/server-properties.html">server.properties</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/sponge-conf.html">sponge.conf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/sponge-config.html">Sponge Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/sponge-conf.html">sponge.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/server-properties.html">server.properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/management/index.html">Server Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/plugin-configuration/index.html">Plugin Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/management/plugin-configuration/plugins.html">Installing Plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/management/plugin-configuration/hocon.html">Introduction to HOCON</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/management/plugin-configuration/json.html">JSON Syntax</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/whitelist.html">Managing the Whitelist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/bans.html">Managing Bans</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/permissions.html">Managing Permissions</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/spongineer/index.html">Becoming an Expert Spongineer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/commands.html">Commands</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/troubleshooting.html">Troubleshooting</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/debugging.html">Log Files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Preparing for Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/jdk.html">Installing the JDK</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/ide.html">Installing an IDE</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/text.html">Installing a Text Editor</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/git.html">Installing Git</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul class="simple">
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing to Sponge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/guidelines.html">Contribution Guidelines</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/coremod/index.html">Coremod Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/coremod/layout.html">Layout of Sponge (coremod)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/coremod/debugging.html">Debugging Sponge Within the IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/coremod/mixins.html">Mixins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/coremod/git-fu.html">Git-Fu for Sponge (coremod)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/api/index.html">API Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/api/layout.html">Layout of Sponge API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/api/git-fu.html">Git-Fu for SpongeAPI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/docs/index.html">SpongeDocs Writing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/docs/layout.html">Layout of SpongeDocs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/docs/git-fu.html">Git-Fu for SpongeDocs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/porting.html">Porting Sponge to Other Platforms</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul class="simple">
</ul>

      </div>
    </div> 

        <div class="document">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body" role="main">
                  
  <div class="section" id="working-with-blocks">
<h1>Working with Blocks<a class="headerlink" href="#working-with-blocks" title="Permalink to this headline">¶</a></h1>
<div class="section" id="concepts">
<h2>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h2>
<p>Blocks in Minecraft are stored in a peculiar way.</p>
<div class="section" id="properties">
<h3>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h3>
<p>All blocks are of a <em>base type</em>. Examples of base types include dirt, stairs, and leaves. However, to further differentiate these base types, each block has set of different properties, of which each can take a limited set of values (i.e. <em>podzol</em> dirt, <em>brick</em> stairs, <em>oak</em> leaves). A block can have multiple properties (such as <em>east-facing</em>, <em>brick</em> stairs).</p>
<div class="topic">
<p class="topic-title first">Examples of block properties</p>
<div class="code highlight-python"><div class="highlight"><pre>minecraft:dirt[snowy=false,variant=default]
minecraft:dirt[snowy=true,variant=default]
minecraft:dirt[snowy=false,variant=grassless]
minecraft:dirt[snowy=true,variant=grassless]
minecraft:planks[variant=oak]
minecraft:planks[variant=spruce]
minecraft:planks[variant=birch]
minecraft:redstone_wire[east=up,north=up,power=0,south=up,west=up]
minecraft:redstone_wire[east=side,north=up,power=0,south=up,west=up]
minecraft:redstone_wire[east=none,north=up,power=0,south=up,west=up]
minecraft:redstone_wire[east=up,north=side,power=0,south=up,west=up]
</pre></div>
</div>
</div>
<p>Some properties, however, are <em>ephemeral</em> &#8211; they exist only when the game is running. Their values are not written to the save file because their values can be detected automatically. For example, with Redstone wire, whether they are powered or not can be detected based on the environment (is there a lever that is on?). In this case, the <tt class="docutils literal"><span class="pre">power</span></tt> property of <tt class="docutils literal"><span class="pre">minecraft:redstone_wire</span></tt> as illustrated above is an ephemeral property.</p>
<p>As of writing, Minecraft still stores block data to an old format with 12 bits for a base type (4096 possible base types) and 4 bits for &#8220;metadata&#8221; (16 possible values per base type). However, properties do not map directly to metadata due to legacy reasons: for example, the furnace block consists of two base types (currently smelting versus not smelting), each not utilizing their metadata at all. On the other hand, logs do use their metadata fully, but because the combination of properties exceeds 16 possible values (think tree type and direction), logs must be split over two base types.</p>
<p>In the future, there will only be one 16 bit number (65536 possible combinations of base type + properties). Blocks will be assigned an ID automatically and this assignment will be stored in the world save file. This is illustrated below:</p>
<div class="highlight-python"><div class="highlight"><pre>0 =&gt; minecraft:dirt[snowy=false,variant=default]
1 =&gt; minecraft:dirt[snowy=true,variant=default]
2 =&gt; minecraft:dirt[snowy=false,variant=grassless]
3 =&gt; minecraft:dirt[snowy=true,variant=grassless]
4 =&gt; minecraft:planks[variant=oak]
5 =&gt; minecraft:planks[variant=spruce]
etc.
</pre></div>
</div>
</div>
<div class="section" id="tile-entity-data">
<h3>Tile Entity Data<a class="headerlink" href="#tile-entity-data" title="Permalink to this headline">¶</a></h3>
<p>With 65536 possible combinations, it is not possible to store a lot of information like inventory, so there&#8217;s an additional way that <em>some</em> blocks have data: tile entities.</p>
<p>Tile entities themselves are Java objects (like a <cite>Chest</cite> class). Normally, Minecraft code would access data in a tile entity by getting its instance and then calling it methods or fields, like a regular object (<tt class="docutils literal"><span class="pre">world.getTileEntity(position).getInventory()</span></tt>). When tile entities need to be written to the save file, they are stored in the <a class="reference external" href="http://minecraft.gamepedia.com/NBT_format">NBT format</a>.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>Some things, like paintings, are actually entities.</p>
<p class="last">However, tile entities can also override rendering so they don&#8217;t look like a regular block, although this is generally inefficient and causes a client framerate drop.</p>
</div>
</div>
</div>
<div class="section" id="the-block-api">
<h2>The Block API<a class="headerlink" href="#the-block-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="accessing-tile-entity-data">
<h3>Accessing Tile Entity Data<a class="headerlink" href="#accessing-tile-entity-data" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="snapshots">
<h3>Snapshots<a class="headerlink" href="#snapshots" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


                </div>
              </div>
            </div>
          <div class="clearer"></div>
        </div>
        <div class="footer" role="contentinfo">
              &copy; Copyright 2014-2015, Sponge Contributors.
            Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
        </div>
    </div>
  </body>
</html>