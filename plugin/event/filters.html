<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">




<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
     <title>Event Filters &mdash; Sponge 2.1-SNAPSHOT documentation</title>
    
  <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sponge.css" type="text/css" />
  <link href='//fonts.googleapis.com/css?family=Source+Code+Pro|Roboto:400italic,700italic,700,400' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../../_static/tomorrow.css" type="text/css" />
  <link id="syntax-highlighting-ref" rel="stylesheet" href="../../_static/tomorrow_night.css" type="text/css" />
      
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    '../../',
      VERSION:     '2.1-SNAPSHOT',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/store.min.js"></script>
    <script type="text/javascript" src="../../_static/lights.js"></script>
        <link rel="top" title="Sponge 2.1-SNAPSHOT documentation" href="../../index.html" />
        <link rel="up" title="Working with Events" href="index.html" />
        <link rel="next" title="Creating Custom Events" href="custom.html" />
        <link rel="prev" title="Event Causes" href="causes.html" />
    
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-59476017-2', 'auto');
    ga('send', 'pageview');

  </script> 
  </head>
  <body role="document">
    <div class="container">
  <div class="related" role="navigation" aria-label="related navigation">
    <h3>Navigation</h3>
    <ul>
      <span style="float: right" class="lights" title="Toggles syntax highlighting between light and dark">
        <i class="icon-lamp lights-icon"></i> Highlight Code Light/Dark
      </span>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="custom.html" title="Creating Custom Events"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="causes.html" title="Event Causes"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Sponge 2.1-SNAPSHOT documentation</a> &raquo;</li>
        <li><a href="../index.html" >Creating a Plugin</a> &raquo;</li>
        <li><a href="index.html" accesskey="U">Working with Events</a> &raquo;</li> 
    </ul>
  </div> 
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
    <form class="search" action="../../search.html" method="get">
      <div class="searchbox-inner">
        <input class="field" type="text" name="q" autocomplete="off" />
        <button class="submit" type="submit"><i class="icon-search"></i></button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </div>
    </form>
    <p class="searchtip" style="font-size: 90%"></p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Creating a Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../server/getting-started/index.html">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/jre.html">Installing Java</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/migrating.html">Migrating to Sponge</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/implementations/index.html">Choosing an Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/spongeforge.html">SpongeForge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/spongevanilla.html">SpongeVanilla</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/installation.html">Installing Sponge</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/launch-script.html">Creating a Launch Script</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/port-forward.html">Port Forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/configuration/index.html">Configuring Sponge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/hocon.html">Introduction to HOCON</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/json.html">JSON Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/sponge-conf.html">global.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/server-properties.html">server.properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/management/index.html">Server Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/whitelist.html">Managing the Whitelist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/bans.html">Managing Bans</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/permissions.html">Managing Permissions</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/plugins.html">Installing Plugins</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/spongineer/index.html">Becoming an Expert Spongineer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/commands.html">Commands</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/troubleshooting.html">Troubleshooting</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/logs.html">Log Files</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/debugging.html">Debugging</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">Preparing for Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/jdk.html">Installing the JDK</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/ide.html">Installing an IDE</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/text.html">Installing a Text Editor</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/git.html">Installing Git</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Creating a Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">Setting Up Your Workspace</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../workspace/idea.html">Setting Up IntelliJ IDEA</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workspace/eclipse.html">Setting Up Eclipse</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workspace/netbeans.html">Setting Up NetBeans</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workspace/dependencies.html">Adding Sponge API Dependencies</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../practices.html">Best Practices</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../templates.html">Plugin Templates</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../main-class.html">Creating Your Main Plugin Class</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">Plugin Lifecycle</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">Logging and Debugging</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">Working with Text</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../text/text.html">Creating Text</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../text/pagination.html">The Pagination Service</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Creating Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../commands/creating.html">Building a Command</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../commands/arguments.html">Argument Parsing</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../commands/childcommands.html">Child Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/service.html">The Command Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/commandcallable.html">Low-Level Command API</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Working with Events</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="listeners.html">Event Listeners</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="causes.html">Event Causes</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Event Filters</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="custom.html">Creating Custom Events</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Configuring Your Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration/loaders.html">Configuration Loaders</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/nodes.html">Configuration Nodes</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/paths.html">Navigating Through Nodes</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/values.html">Giving Nodes Value</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/serialization.html">Serializing Objects</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">The Data API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data/keys.html">Using Keys</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../data/datamanipulators.html">Data Manipulators</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../data/transactions.html">Transactions</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../data/serialization.html">Serializing Data</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">Working with Blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../blocks/concepts.html">Concepts</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/accessing.html">Accessing Blocks</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/modifying.html">Modifying Blocks</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/tileentities.html">Working with Tile Entities</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">Working with Entities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../entities/spawning.html">Spawning an Entity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../items.html">Working with Items</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">Dependency Injection</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">Using the Scheduler</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">Working with Databases</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">Working with the Permissions API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">Working with Services</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">Using the Plugin Manager</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">Plugin Debugging</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../message-sinks.html">Message Sinks</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing to Sponge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/guidelines.html">Contribution Guidelines</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/api/index.html">API Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/api/git.html">Git Workflow for SpongeAPI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/implementation/index.html">Implementation Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/debugging.html">Debugging Sponge Within the IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/mixins.html">Mixins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/git.html">Git Workflow for Sponge implementations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/datamanipulator.html">Implementing DataManipulators</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/spongedocs.html">SpongeDocs Writing</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/porting.html">Porting Sponge to Other Platforms</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About the Sponge Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about/introduction.html">Introduction</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/faq.html">Frequently Asked Questions</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/future.html">Plans for the Future</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/license.html">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/posting.html">Forum Posting Guidelines</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/rules.html">Forum &amp; IRC Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/staff.html">Staff</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/glossary.html">Sponge Glossary</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/assets.html">Art Assets</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/history.html">The History of Sponge</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads.html">Download</a><ul class="simple">
</ul>
</li>
</ul>
<ul class="simple">
</ul>

      </div>
    </div> 

        <div class="document">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body" role="main">
                  
  <div class="section" id="event-filters">
<h1>Event Filters<a class="headerlink" href="#event-filters" title="Permalink to this headline">¶</a></h1>
<p>Now that you&#8217;ve spent a bit of time working with events you&#8217;ve probably noticed that there are several preconditions that you
very commonly check while writing an event listener. Event filters are a group of annotations that assist you by allowing you
to automatically validate aspects of the event, and if the validation fails then your listener will not be called. This allows
your listener to be dedicated to the logic of your handler, rather than the preconditions, resulting in cleaner code.</p>
<p>Event filters come in two varieties, event type and parameter filters.</p>
<p>Event type filters are method annotations that are applied to your listener method along with the <tt class="docutils literal"><span class="pre">&#64;Listener</span></tt> annotation and
provide several filters based on the type or state of the event.</p>
<p>Parameter filters validate objects contained within the event such as the cause. They come in a further two varieties
parameter sources and parameter filters. Each additional parameter must have one source annotation, and optionally may include
any number of filter annotations.</p>
<div class="section" id="event-type-filters">
<h2>Event Type Filters<a class="headerlink" href="#event-type-filters" title="Permalink to this headline">¶</a></h2>
<p><strong>&#64;Include/&#64;Exclude</strong>
These two parameters are used in conjunction with listening for supertype events such as <tt class="docutils literal"><span class="pre">EntityEvent</span></tt> while narrowing the
events that you receive to just a subset of the events extending the event you&#8217;re listening for.</p>
<p>For example:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Listener</span>
<span class="nd">@Exclude</span><span class="o">(</span><span class="n">InteractBlockEvent</span><span class="o">.</span><span class="na">Primary</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInterace</span><span class="o">(</span><span class="n">InteractBlockEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// do something</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This listener will be called for all events extending InteractBlockEvent <strong>except</strong> for the <tt class="docutils literal"><span class="pre">InteractBlockEvent.Primary</span></tt>
event (leaving just the <tt class="docutils literal"><span class="pre">InteractBlockEvent.Secondary</span></tt> event).</p>
<p>An example with <tt class="docutils literal"><span class="pre">&#64;Include</span></tt> could be:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Listener</span>
<span class="nd">@Include</span><span class="o">({</span><span class="n">InteractBlockEvent</span><span class="o">.</span><span class="na">Primary</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">InteractBlockEvent</span><span class="o">.</span><span class="na">Secondary</span><span class="o">.</span><span class="na">class</span><span class="o">})</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInterace</span><span class="o">(</span><span class="n">InteractBlockEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// do something</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This listener will be called for all events extending InteractBlockEvent which are also in the list of events within the
<tt class="docutils literal"><span class="pre">&#64;Include</span></tt> annotation (which is all of them as it happens).</p>
<p><strong>&#64;IsCancelled</strong>
This annotation allows filtering events by their cancellation state at the time that your event listener would normally be
called. By default your event listener will not be called if the event has been cancelled by a previous event listener.
However you can change this behavior to one of three states depending on the Cancellation state value in the <tt class="docutils literal"><span class="pre">&#64;IsCancelled</span></tt>
annotation.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">CancellationState.FALSE</span></tt> is the default behavior and will not call your listener if the event has been cancelled.</li>
<li><tt class="docutils literal"><span class="pre">CancellationState.IGNORE</span></tt> will cause your listener to be called regardless of the cancellation state of the event.</li>
<li><tt class="docutils literal"><span class="pre">CancellationState.TRUE</span></tt> will cause your listener to be called only if the event has been cancelled by a previous event listener.</li>
</ul>
</div>
<div class="section" id="parameter-filters">
<h2>Parameter Filters<a class="headerlink" href="#parameter-filters" title="Permalink to this headline">¶</a></h2>
<p>Parameter filters allow you to filter based on objects within the event. These annotations come in two types, sources and
filters. Each additional parameter for your listener method, beyond the normal event parameter, requires exactly one source
annotation and may optionally have any number of filter annotations.</p>
<div class="section" id="parameter-source-annotations">
<h3>Parameter Source Annotations<a class="headerlink" href="#parameter-source-annotations" title="Permalink to this headline">¶</a></h3>
<p>Parameter source annotations tell the event system where it should look for this parameter&#8217;s value. This may be in the events
cause or in a member of the event object itself.</p>
<p><strong>&#64;First</strong> This parameter source annotation tells the event system to find the first object in the event&#8217;s cause which matches
the type of your parameter (This is equivalent to <tt class="docutils literal"><span class="pre">Cause#first(Class&lt;?&gt;)</span></tt>). If no object is found matching this parameter
then your listener is not called.</p>
<p><strong>In this example your listener will only be called if there is a player in the event&#8217;s cause, and the ``player`` parameter
will be set to the first player present the cause.</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="o">(</span><span class="n">InteractBlockEvent</span><span class="o">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="o">,</span> <span class="nd">@First</span> <span class="n">Player</span> <span class="n">player</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// do something</span>
<span class="o">}</span>
</pre></div>
</div>
<p><strong>&#64;Last</strong> This is similar to <tt class="docutils literal"><span class="pre">&#64;First</span></tt> however it instead makes a call to <tt class="docutils literal"><span class="pre">Cause#last(Class&lt;?&gt;)</span></tt>.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="o">(</span><span class="n">InteractBlockEvent</span><span class="o">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="o">,</span> <span class="nd">@Last</span> <span class="n">Player</span> <span class="n">player</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// do something</span>
<span class="o">}</span>
</pre></div>
</div>
<p><strong>&#64;All</strong> This parameter source annotation is a little special in that it requires that the annotated parameter be an array
type. The returned array will be equivalent to the result of <tt class="docutils literal"><span class="pre">Cause#all(Class&lt;?&gt;)</span></tt>. By default if the returned array would
be empty then the validation fails however this can be disabled by setting <tt class="docutils literal"><span class="pre">ignoreEmpty=false</span></tt>.</p>
<p><strong>In this example your listener will always be called, although the players array may be empty if the event&#8217;s cause contained
no players.</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="o">(</span><span class="n">InteractBlockEvent</span><span class="o">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="o">,</span> <span class="nd">@All</span><span class="o">(</span><span class="n">ignoreEmpty</span><span class="o">=</span><span class="kc">false</span><span class="o">)</span> <span class="n">Player</span><span class="o">[]</span> <span class="n">players</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// do something</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="parameter-filter-annotations">
<h3>Parameter Filter Annotations<a class="headerlink" href="#parameter-filter-annotations" title="Permalink to this headline">¶</a></h3>
<p>Parameter filter annotations add additional validation to objects returned from parameter source annotations. As with all
event filters if any of these validations fail then your listener will not be called.</p>
<p><strong>&#64;Supports</strong>
This parameter filter may be applied to any type which is a <tt class="docutils literal"><span class="pre">DataHolder</span></tt>. It takes a class extending <tt class="docutils literal"><span class="pre">DataManipulator</span></tt> as
its parameter and validates that the annotated DataHolder supports the given DataManipulator type. This validation is
equivalent to <tt class="docutils literal"><span class="pre">DataHolder#supports(Class&lt;?</span> <span class="pre">extends</span> <span class="pre">DataManipulator&gt;)</span></tt>.</p>
<p><strong>In this example the listener will be called only if there is an entity in the event&#8217;s cause, and if that entity supports
the data manipulator ``FlyingData``.</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="o">(</span><span class="n">InteractBlockEvent</span><span class="o">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="o">,</span> <span class="nd">@First</span> <span class="nd">@Supports</span><span class="o">(</span><span class="n">FlyingData</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="n">Entity</span> <span class="n">entity</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// do something</span>
<span class="o">}</span>
</pre></div>
</div>
<p><strong>&#64;Has</strong>
This parameter filter is similar to the <tt class="docutils literal"><span class="pre">&#64;Supports</span></tt> parameter filter except that it additionally validates that the
<tt class="docutils literal"><span class="pre">DataHolder</span></tt> contains an instance of the given <tt class="docutils literal"><span class="pre">DataManipulator</span></tt>. This validation is equivalent to
<tt class="docutils literal"><span class="pre">DataHolder#hasData(Class&lt;?</span> <span class="pre">extends</span> <span class="pre">DataManipulator&gt;)</span></tt>.</p>
<p><strong>In this example the listener will be called only if there is an entity in the event&#8217;s cause, and if that entity has an
instance of ``FlyingData`` available.</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInteract</span><span class="o">(</span><span class="n">InteractBlockEvent</span><span class="o">.</span><span class="na">Secondary</span> <span class="n">event</span><span class="o">,</span> <span class="nd">@First</span> <span class="nd">@Has</span><span class="o">(</span><span class="n">FlyingData</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="n">Entity</span> <span class="n">entity</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// do something</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>


                </div>
              </div>
            </div>
          <div class="clearer"></div>
        </div>
        <div class="footer" role="contentinfo">
              &copy; Copyright 2014-2015, Sponge Contributors.
            Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
        </div>
    </div>
  </body>
</html>