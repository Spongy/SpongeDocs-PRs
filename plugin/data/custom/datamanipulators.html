<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">




<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
     <title>Custom DataManipulators &mdash; Sponge 5.0.0 documentation</title>
    
  <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/sponge.css" type="text/css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Roboto:400italic,700italic,700,400|Montserrat:400,700" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../../../_static/tomorrow.css" type="text/css" />
  <link id="syntax-highlighting-ref" rel="stylesheet" href="../../../_static/tomorrow_night.css" type="text/css" />
      
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    '../../../',
      VERSION:     '5.0.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true,
      SOURCELINK_SUFFIX: '.txt'
    };
  </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/store.min.js"></script>
    <script type="text/javascript" src="../../../_static/lights.js"></script>
      <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
        <link rel="index" title="Index" href="../../../genindex.html" />
        <link rel="search" title="Search" href="../../../search.html" />
        <link rel="top" title="Sponge 5.0.0 documentation" href="../../../index.html" />
        <link rel="up" title="Custom Data" href="index.html" />
        <link rel="next" title="Custom DataHolders" href="dataholders.html" />
        <link rel="prev" title="Custom Data" href="index.html" />
    
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-59476017-2', 'auto');
    ga('send', 'pageview');

  </script>
    
  {§#curver§}
  {|#langs|}
  <link rel="alternate" hreflang="{|crowdin_code|}" href="/{§currentversion§}/{|crowdin_code|}/">
  {|/langs|}
  {§/curver§}
  <link rel="alternate" hreflang="x-default" href="/"> 
  </head>
  <body role="document" id="top">
    <div class="topbar">
  <div role="navigation" aria-label="related navigation">
    <div class="sp-logo-container sp-not-mobileview sp-mobileview">
      <a class="sp-logo-link" data-auto-route="true" href="/">
        <img height="40px" id="site-logo" class="logo-big" alt="" src="https://www.spongepowered.org/assets/img/icons/spongie-mark.svg">
        <span id="sp-site-title">Sponge</span>
      </a>
      <div class="sp-logo-bg"></div>
      <div class="sp-logo-chevron"><i class="fa fa-fw fa-chevron-down"></i></div>
      <div class="sp-logo-menu sp-skip-handler">
        <ul class="sp-logo-dropdown" id="ddleft">
          <a href="https://www.spongepowered.org"><li><i class="fa-fw fa fa-home"></i>Homepage</li></a>
          <a href="https://forums.spongepowered.org"><li><i class="fa-fw fa fa-comments"></i>Forums</li></a>
          <a href="https://github.com/SpongePowered"><li><i class="fa-fw fa fa-code"></i>Code</li></a>
          <a class="sp-forums-home" href="https://docs.spongepowered.org"><li class="active"><i class="fa-fw fa fa-book"></i>Docs</li></a>
          <a href="https://jd.spongepowered.org"><li><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</li></a>
          <a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><li><i class="fa-fw fa fa-plug"></i>Plugins</li></a>
          <a href="https://www.spongepowered.org/downloads"><li><i class="fa-fw fa fa-download"></i>Downloads</li></a>
          <a href="https://www.spongepowered.org/chat"><li><i class="fa-fw fa fa-comment"></i>Chat</li></a>
        </ul>
      </div>
    </div>
    <div class="menu-right">
      <div><i class="fa fa-fw fa-globe"></i></div>
        <ul class="dropdown" id="ddlang">
          {§#curver§}
          {|#langs|}
          <li><a href="/{§currentversion§}/{|crowdin_code|}/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/{|crowdin_code|}.png" alt="Flag for {|name|}"/></a></li>
          {|/langs|}
          {§/curver§}
        </ul>
    </div>
    <div class="menu-right">
      <div><i class="fa fa-fw fa-tag"></i><a>5.0.0</a></div>
        <ul class="dropdown" id="ddvers">
          <li><a href="/master/en/"><i class="fa fa-fw fa-tag"></i> latest</a></li>
          {[#vers]}
          <li><a href="/{[apiversion]}/en/"><i class="fa fa-fw fa-tag"></i> {[apiversion]}</a></li>
          {[/vers]}
        </ul>
    </div>
    <div class="menu-right">
      <div title="Toggle syntax highlighting between light and dark" class="lights">
        <i class="fa fa-fw fa-lightbulb-o"></i>
      </div>
    </div>
    <div>
      <ul class="controls">
        <li>|</li>
        
        <li><a href="dataholders.html" title="Next Page"><i class="fa fa-fw fa-chevron-right"></i></a></li>
        
        <li><a href="#top" title="To the top"><i class="fa fa-fw fa-chevron-up"></i></a></li>
        <li><a href="../../../index.html" title="Home"><i class="fa fa-fw fa-home"></i></a></li>
        
        <li><a href="index.html" title="Previous Page"><i class="fa fa-fw fa-chevron-left"></i></a></li>
        
        <li>|</li>
        
          <li><a href="https://github.com/SpongePowered/SpongeDocs/blob/master/source/plugin/data/custom/datamanipulators.rst" title="Edit on GitHub"><i class="fa fa-fw fa-github"></i></a></li>
        
      </ul>
    </div>
    <h3>Navigation</h3>
  </div>
    </div>
    <div class="container">

      <div class="breadcrumbs">
        <ul>
        <li><a href="../../../index.html">Sponge 5.0.0 documentation</a><i class="fa fa-fw fa-chevron-right"></i></li>
        <li><a href="../../index.html" >Creating a Plugin</a><i class="fa fa-fw fa-chevron-right"></i></li>
        <li><a href="../index.html" >The Data API</a><i class="fa fa-fw fa-chevron-right"></i></li>
        <li><a href="index.html" accesskey="U">Custom Data</a><i class="fa fa-fw fa-chevron-right"></i></li>
        </ul>
      </div> 
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
    <form class="search" action="../../../search.html" method="get">
      <div class="searchbox-inner">
        <input class="field" type="text" name="q" autocomplete="off" />
        <button class="submit" type="submit"><i class="fa fa-fw fa-search" aria-hidden="true"></i></button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </div>
    </form>
    <p class="searchtip" style="font-size: 90%"></p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../server/index.html">Creating a Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../server/getting-started/index.html">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../server/getting-started/jre.html">Installing Java</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/getting-started/migrating.html">Migrating to Sponge</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/getting-started/implementations/index.html">Choosing an Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../server/getting-started/implementations/spongeforge.html">Installing SpongeForge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../server/getting-started/implementations/spongevanilla.html">Installing SpongeVanilla</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/getting-started/launch-script.html">Creating a Launch Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/getting-started/port-forward.html">Port Forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/getting-started/bungeecord.html">Using Sponge with BungeeCord</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/getting-started/configuration/index.html">Configuring Sponge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../server/getting-started/configuration/hocon.html">Introduction to HOCON</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../server/getting-started/configuration/json.html">JSON Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../server/getting-started/configuration/sponge-conf.html">global.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../server/getting-started/configuration/server-properties.html">server.properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../server/management/index.html">Server Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../server/management/whitelist.html">Managing the Whitelist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/management/bans.html">Managing Bans</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/management/permissions.html">Managing Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/management/plugins.html">Installing Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/management/exploit-patches.html">Exploit Patches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/management/performance-tweaks.html">Performance Tweaks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../server/spongineer/index.html">Becoming an Expert Spongineer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../server/spongineer/commands.html">Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/spongineer/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/spongineer/logs.html">Log Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/spongineer/debugging.html">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../server/spongineer/bugreport.html">Reporting Bugs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../preparing/index.html">Preparing for Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../preparing/jdk.html">Installing the JDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../preparing/ide.html">Installing an IDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../preparing/text.html">Installing a Text Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../preparing/git.html">Installing Git</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Creating a Plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../buildsystem.html">Build Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace/index.html">Setting Up Your Workspace</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../workspace/idea.html">Setting Up IntelliJ IDEA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../workspace/eclipse.html">Setting Up Eclipse</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../project/index.html">Setting Up Your Project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../project/gradle.html">Setting Up Gradle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../project/maven.html">Setting Up Maven</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin-identifier.html">Plugin Identifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin-class.html">Main Plugin Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lifecycle.html">Plugin Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../injection.html">Dependency Injection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practices.html">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optional/index.html">Optionals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../optional/basic.html">Optionals Explained</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../optional/usage.html">Usage Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../logging.html">Logging and Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands/index.html">Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../commands/creating.html">Building a Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands/arguments.html">Argument Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands/flags.html">Command Flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands/childcommands.html">Child Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands/service.html">The Command Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands/commandcallable.html">Low-Level Command API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../event/index.html">Events</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../event/listeners.html">Event Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../event/causes.html">Event Causes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../event/filters.html">Event Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../event/custom.html">Custom Events</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../assets.html">The Asset API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/index.html">Configuring Plugins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/loaders.html">Configuration Loaders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/nodes.html">Configuration Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/serialization.html">Serializing Objects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../text/index.html">Text</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../text/text.html">Creating Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../text/representations/index.html">Text Serializers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../text/representations/formatting-code-legacy.html">Formatting Code &amp; Legacy Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../text/representations/xml.html">TextXML Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../text/representations/json.html">JSON Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../text/representations/configurate.html">Configuration Format</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../text/pagination.html">The Pagination Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../text/messagechannels.html">Message Channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../text/templates.html">TextTemplates</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">The Data API</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Custom Data</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Custom DataManipulators</a></li>
<li class="toctree-l4"><a class="reference internal" href="dataholders.html">Custom DataHolders</a></li>
<li class="toctree-l4"><a class="reference internal" href="serialization.html">Serializing Custom Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../keys.html">Using Keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../datamanipulators.html">Data Manipulators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../transactions.html">Transactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../serialization.html">Serializing Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../blocks/index.html">Blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../blocks/concepts.html">Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../blocks/accessing.html">Accessing Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../blocks/modifying.html">Modifying Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../blocks/tileentities.html">Tile Entities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../blocks/virtualblock.html">Virtual Block Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../entities/index.html">Entities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../entities/spawning.html">Spawning an Entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../entities/modifying.html">Modifying an Entity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../items/index.html">Items</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../items/usage.html">Basic Item Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../items/creating.html">Creating an ItemStack</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../trade-offers.html">Trade-Offers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../effects.html">Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scheduler.html">Scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../services.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../database.html">Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../permissions.html">Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bans.html">Bans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bookview.html">Book Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../economy/index.html">Economy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../economy/basics.html">Basic Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../economy/using.html">Using the Economy API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../economy/practices.html">Economy API Best Practices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../economy/implementing.html">Implementing the Economy API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../wgen/index.html">World Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../wgen/modifiers.html">WorldGeneratorModifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wgen/customwgen.html">Modifying World Generation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../manager.html">Plugin Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../game-profile-manager.html">Game Profile Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../offline-userplayer-data.html">Offline Player Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging.html">Plugin Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tab-lists.html">Tab Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin-meta.html">Plugin Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ray-tracing.html">Ray Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials.html">Tutorials</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../ore/index.html">Ore Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../ore/publish.html">Publishing Your Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ore/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ore/api.html">Ore Web API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../ore/routes/list-projects.html">List projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ore/routes/project.html">Get Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ore/routes/list-versions.html">List Project Versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ore/routes/project-version.html">Get Project Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ore/routes/list-users.html">List Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ore/routes/user.html">Get User</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ore/routes/download.html">Download Project Version</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Contributing to Sponge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/guidelines.html">Contribution Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/howtogit.html">How to Git(Hub)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/implementation/index.html">Developing Sponge</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../contributing/implementation/codestyle.html">Code Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contributing/implementation/git-implementation.html">Git Workflow for API and Implementations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contributing/implementation/pr.html">Submitting a Pull-Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contributing/implementation/debugging.html">Debugging Sponge Within the IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contributing/implementation/mixins.html">Mixins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contributing/implementation/datamanipulator.html">Implementing DataManipulators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/spongedocs.html">SpongeDocs Writing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/porting.html">Porting Sponge to Other Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/versioning.html">Versioning System and Repository Branch Layout</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">About the Sponge Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../about/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/structure.html">The Structure of the Sponge Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/future.html">Plans for the Future</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/license.html">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/posting.html">Forum Posting Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/rules.html">Forum &amp; IRC Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/staff.html">Staff</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/glossary.html">Sponge Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/assets.html">Art Assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about/history.html">The History of Sponge</a></li>
</ul>
</li>
</ul>

      </div>
    </div> 

        <div class="document">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body" role="main">
                  
  <div class="section" id="custom-datamanipulators">
<h1>Custom DataManipulators<a class="headerlink" href="#custom-datamanipulators" title="Permalink to this headline">¶</a></h1>
<p>The core part of custom data is the <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/DataManipulator.html">DataManipulator</a>. To implement it, you must first decide if you want to
create a separate API for your custom data. Generally speaking it&#8217;s best to separate the API from the implementation
(as SpongeAPI does), but if it won&#8217;t be seen by other developers then you can just put both in the same class.</p>
<p>You&#8217;ll want to define an API method for each &#8220;unit&#8221; your data, such as a <code class="docutils literal"><span class="pre">String</span></code>, <code class="docutils literal"><span class="pre">int</span></code>, <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/inventory/ItemStack.html">ItemStack</a> or
a custom type like <code class="docutils literal"><span class="pre">Home</span></code>. These units will be wrapped in a <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/value/mutable/Value.html">Value</a>, which will allow it to be accessed
with <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/key/Key.html">Key</a>s. There are various extensions of <code class="docutils literal"><span class="pre">Value</span></code> depending on which object will be represented, such
as <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/value/mutable/MapValue.html">MapValue</a> which provides the standard map operations, or <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/value/mutable/BoundedComparableValue.html">BoundedComparableValue</a> which can set
limits on the upper and lower bound of an <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Comparable.html">Comparable</a> objects like integers.</p>
<p>Now, pick which of the <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/mutable/common/AbstractData.html">AbstractData</a> types you&#8217;ll extend from. While you could implement from scratch, these
abstract types remove a <em>lot</em> of the work that needs to be done implementing the required methods. A full list can be
found in <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/mutable/common/package-summary.html">org.spongepowered.api.data.manipulator.mutable.common</a>. See either <a class="reference internal" href="#single-data-types"><span class="std std-ref">Single Types</span></a> or
<a class="reference internal" href="#compound-data-types"><span class="std std-ref">Compound Types</span></a> below for implementation details each type.</p>
<p>You need to create two different classes - one which is mutable and implements <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/DataManipulator.html">DataManipulator</a> and your
abstract type, and an immutable version which implements <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/ImmutableDataManipulator.html">ImmutableDataManipulator</a> and your <em>immutable</em>
abstract type.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>All</strong> data must have mutable and immutable versions, you must implement both.</p>
</div>
<p>For all types, you&#8217;ll need to define the <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/DataManipulator.html#asImmutable--">DataManipulator#asImmutable()</a>/
<a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/ImmutableDataManipulator.html#asMutable--">asMutable()</a> methods - this is as simple as copying the existing
objects into a constructor for the alternate version.</p>
<div class="section" id="values">
<h2>Values<a class="headerlink" href="#values" title="Permalink to this headline">¶</a></h2>
<p>Your value getter(s) need to return a value. In the example below, we get the <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/value/ValueFactory.html">ValueFactory</a>. This saves us a
lot of type by using Sponge&#8217;s already implemented <code class="docutils literal"><span class="pre">Value</span></code> objects. Depending on what value you&#8217;re creating there a
different methods to call such as <code class="docutils literal"><span class="pre">createMapValue</span></code>, <code class="docutils literal"><span class="pre">createBoundedComparableValue</span></code>, etc.</p>
<p><strong>Code Example: Implementing a Value Getter</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.Sponge</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.value.ValueFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.value.mutable.Value</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.home.Home</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.Keys</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="n">Value</span><span class="o">&lt;</span><span class="n">Home</span><span class="o">&gt;</span> <span class="nf">defaultHome</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Sponge</span><span class="o">.</span><span class="na">getRegistry</span><span class="o">().</span><span class="na">getValueFactory</span><span class="o">()</span>
            <span class="o">.</span><span class="na">createValue</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">DEFAULT_HOME</span><span class="o">,</span> <span class="n">getValue</span><span class="o">(),</span> <span class="kc">null</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note that an <code class="docutils literal"><span class="pre">ImmutableDataManipulator</span></code> would instead return an <code class="docutils literal"><span class="pre">ImmutableValue</span></code>, by calling <code class="docutils literal"><span class="pre">asImmutable()</span></code> on
the returned <code class="docutils literal"><span class="pre">Value</span></code>. We recommended that you cache this (such as with a class field) in the immutable version.</p>
<p>Each <code class="docutils literal"><span class="pre">Value</span></code> also needs a <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/key/Key.html">Key</a> to identify it, seen in the example as <code class="docutils literal"><span class="pre">Keys.DEFAULT_HOME</span></code>. Similar
to values, you use one of the <code class="docutils literal"><span class="pre">makeXKey()</span></code> methods in <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/key/KeyFactory.html">KeyFactory</a> to create a <code class="docutils literal"><span class="pre">Key</span></code> for your value.</p>
<p>You need to pass one <code class="docutils literal"><span class="pre">TypeToken</span></code> representing the <em>raw</em> type of your value, and one <code class="docutils literal"><span class="pre">TypeToken</span></code> representing the
<code class="docutils literal"><span class="pre">Value</span></code>. You also need to provide a <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/DataQuery.html">DataQuery</a> path - this is most commonly used to serialize the
<code class="docutils literal"><span class="pre">Value</span></code>. As with any catalog type you must also provide a unique ID and a name. Put this all together and you have a
<code class="docutils literal"><span class="pre">Key</span></code> you can use in your <code class="docutils literal"><span class="pre">Value</span></code>s.</p>
<p><strong>Code Example: Creating a Key</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataQuery</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.key.Key</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.key.KeyFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.value.mutable.Value</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.value.mutable.Value</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.common.reflect.TypeToken</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.home.Home</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Key</span><span class="o">&lt;</span><span class="n">Value</span><span class="o">&lt;</span><span class="n">Home</span><span class="o">&gt;&gt;</span> <span class="n">DEFAULT_HOME</span> <span class="o">=</span> <span class="n">KeyFactory</span><span class="o">.</span><span class="na">makeSingleKey</span><span class="o">(</span>
        <span class="n">TypeToken</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">Home</span><span class="o">.</span><span class="na">class</span><span class="o">),</span>
        <span class="k">new</span> <span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">Value</span><span class="o">&lt;</span><span class="n">Home</span><span class="o">&gt;&gt;()</span> <span class="o">{},</span>
        <span class="n">DataQuery</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;DefaultHome&quot;</span><span class="o">),</span> <span class="s">&quot;myhomes:default_home&quot;</span><span class="o">,</span> <span class="s">&quot;Default Home&quot;</span><span class="o">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><a class="reference external" href="https://google.github.io/guava/releases/17.0/api/docs/com/google/common/reflect/TypeToken.html">TypeToken</a>s are used by the server implementation to preserve the generic type of your
values. They are created in one of two ways:</p>
<ul class="last simple">
<li>For non-generic types, use <code class="docutils literal"><span class="pre">TypeToken.of(MyType.class)</span></code></li>
<li>For generic types, create an anonymous class with <code class="docutils literal"><span class="pre">TypeToken&lt;MyGenericType&lt;String&gt;&gt;()</span> <span class="pre">{}</span></code></li>
</ul>
</div>
</div>
<div class="section" id="serialization">
<h2>Serialization<a class="headerlink" href="#serialization" title="Permalink to this headline">¶</a></h2>
<p>To make your data <a class="reference internal" href="../serialization.html"><span class="doc">serializable</span></a> to <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/DataHolder.html">DataHolder</a>s or config files, you must also
implement <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/DataSerializable.html#toContainer--">DataSerializable#toContainer()</a>. We recommend calling <code class="docutils literal"><span class="pre">super.toContainer()</span></code> as this will
include the version from <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/DataSerializable.html#getContentVersion--">DataSerializable#getContentVersion()</a>. You should increase the version each time a
change is made to the format of your serialized data, and use <a class="reference internal" href="serialization.html#content-updaters"><span class="std std-ref">DataContentUpdaters</span></a> to allow backwards compatability.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is not required for simple single types, as the already implement <code class="docutils literal"><span class="pre">toContainer()</span></code></p>
</div>
<p><strong>Code Example: Implementing toContainer</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataContainer</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.Keys</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">DataContainer</span> <span class="nf">toContainer</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">DataContainer</span> <span class="n">container</span> <span class="o">=</span> <span class="kd">super</span><span class="o">.</span><span class="na">toContainer</span><span class="o">();</span>
    <span class="c1">// This is the simplest, but use whatever structure you want!</span>
    <span class="n">container</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">DEFAULT_HOME</span><span class="o">.</span><span class="na">getQuery</span><span class="o">(),</span> <span class="k">this</span><span class="o">.</span><span class="na">defaultHome</span><span class="o">);</span>
    <span class="n">container</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HOMES</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">homes</span><span class="o">);</span>

    <span class="k">return</span> <span class="n">container</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="single-types">
<span id="single-data-types"></span><h2>Single Types<a class="headerlink" href="#single-types" title="Permalink to this headline">¶</a></h2>
<p>Single types require little implementation because much of the work has already been done in the <code class="docutils literal"><span class="pre">AbstractSingleData</span></code>
type you extend from.</p>
<p>The &#8220;simple&#8221; abstract types are the easiest to implement, but are restricted to only the types below:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Boolean</span></code></li>
<li><code class="docutils literal"><span class="pre">Comparable</span></code></li>
<li><code class="docutils literal"><span class="pre">Integer</span></code></li>
<li><code class="docutils literal"><span class="pre">List</span></code></li>
<li><code class="docutils literal"><span class="pre">Map</span></code></li>
<li><code class="docutils literal"><span class="pre">CatalogType</span></code></li>
<li><code class="docutils literal"><span class="pre">Enum</span></code></li>
</ul>
<p>For all other types you must implement a custom single type by extending <code class="docutils literal"><span class="pre">AbstractSingleData</span></code>. This allows you to
define your own single data with whatever type you want, while still doing most of the work for you.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The abstract implementations save the object for you in the constructor. You can access it in your implementation
by calling the <code class="docutils literal"><span class="pre">getValue()</span></code> and <code class="docutils literal"><span class="pre">getValueGetter()</span></code> methods.</p>
</div>
<div class="section" id="simple-single-types">
<h3>Simple Single Types<a class="headerlink" href="#simple-single-types" title="Permalink to this headline">¶</a></h3>
<p>Almost all the work is done for you with simple abstract types. All you need to do is:</p>
<ul class="simple">
<li>Extend the relevant abstract type</li>
<li>pass the <cite>Key</cite> for your data, the object itself, and the default object (if the object is null) in the constructor</li>
</ul>
<p><a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/mutable/common/AbstractBoundedComparableData.html">AbstractBoundedComparableData</a> (and the immutable equivalent) additionally require minimum and maximum
values that will be checked, as well as a <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html">Comparator</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">List</span></code> and <code class="docutils literal"><span class="pre">Mapped</span></code> single types must instead implement <code class="docutils literal"><span class="pre">ListData</span></code> / <code class="docutils literal"><span class="pre">MappedData</span></code> (or the immutable
equivalent). This adds additional methods to allow Map-like/List-like behavior directly on the <code class="docutils literal"><span class="pre">DataManipulator</span></code>.</p>
</div>
<p>The following 3 methods must be defined on mutable manipluators:</p>
<p><code class="docutils literal"><span class="pre">fill(DataHolder,</span> <span class="pre">MergeFunction)</span></code> should replace the data on your object with that of the given <code class="docutils literal"><span class="pre">DataHolder</span></code>,
using the result of <code class="docutils literal"><span class="pre">MergeFunction#merge()</span></code>.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataHolder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.merge.MergeFunction</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.friends.FriendsData</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">FriendsData</span><span class="o">&gt;</span> <span class="nf">fill</span><span class="o">(</span><span class="n">DataHolder</span> <span class="n">dataHolder</span><span class="o">,</span> <span class="n">MergeFunction</span> <span class="n">overlap</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">FriendsData</span> <span class="n">merged</span> <span class="o">=</span> <span class="n">overlap</span><span class="o">.</span><span class="na">merge</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">dataHolder</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">FriendsData</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
    <span class="n">setValue</span><span class="o">(</span><span class="n">merged</span><span class="o">.</span><span class="na">friends</span><span class="o">().</span><span class="na">get</span><span class="o">());</span>

    <span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">from(DataContainer)</span></code> should overwrite its value with the one in the container and return itself, otherwise return
<code class="docutils literal"><span class="pre">Optional.empty()</span></code></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataContainer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataQuery</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.Keys</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.friends.FriendsData</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.friends.ImmutableFriendsData</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.common.collect.Maps</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.UUID</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">FriendsData</span><span class="o">&gt;</span> <span class="nf">from</span><span class="o">(</span><span class="n">DataContainer</span> <span class="n">container</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span><span class="o">(</span><span class="n">container</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">FRIENDS</span><span class="o">))</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">UUID</span><span class="o">&gt;</span> <span class="n">friends</span> <span class="o">=</span> <span class="n">container</span><span class="o">.</span><span class="na">getObjectList</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">FRIENDS</span><span class="o">.</span><span class="na">getQuery</span><span class="o">(),</span> <span class="n">UUID</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">setValue</span><span class="o">(</span><span class="n">friends</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">empty</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">copy()</span></code> should, as the name suggests, return a copy of itself with the same data.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.friends.FriendsData</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">FriendsData</span> <span class="nf">copy</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">FriendsDataImpl</span><span class="o">(</span><span class="n">getValue</span><span class="o">());</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-single-types">
<h3>Custom Single Types<a class="headerlink" href="#custom-single-types" title="Permalink to this headline">¶</a></h3>
<p>In addition to the , you need to override the following methods:</p>
<p><code class="docutils literal"><span class="pre">getValueGetter()</span></code> should pass the <code class="docutils literal"><span class="pre">Value</span></code> representing your data (see above).</p>
<p><code class="docutils literal"><span class="pre">toContainer()</span></code> should return a <code class="docutils literal"><span class="pre">DataContainer</span></code> representing your data (see above).</p>
</div>
</div>
<div class="section" id="compound-types">
<span id="compound-data-types"></span><h2>Compound Types<a class="headerlink" href="#compound-types" title="Permalink to this headline">¶</a></h2>
<p>Whereas single types only support one value, &#8220;compound&#8221; types support however many values you want. This is useful
when multiple objects are grouped, such as <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/mutable/tileentity/FurnaceData.html">FurnaceData</a>. The downside, however, is that they are more
complex to implement.</p>
<p>To start with, create all the <code class="docutils literal"><span class="pre">Value</span></code> getters that your data will have. For each value, create a method to get and
set the <em>raw</em> object, which you&#8217;ll use later. For immutable data, only the getters are necessary.</p>
<div class="section" id="registering-values">
<h3>Registering Values<a class="headerlink" href="#registering-values" title="Permalink to this headline">¶</a></h3>
<p>Next, you&#8217;ll want to register these so that the <a class="reference internal" href="../keys.html"><span class="doc">Keys</span></a>-based system can reference them. To do this,
implement either <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/DataManipulator.html#registerGettersAndSetters--">DataManipulator#registerGettersAndSetters()</a> or
<a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/manipulator/ImmutableDataManipulator.html#registerGetters--">ImmutableDataManipulator#registerGetters()</a> depending on whether the data is mutable or not.</p>
<p>For each value you must call:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">registerKeyValue(Key,</span> <span class="pre">Supplier)</span></code> referencing the <code class="docutils literal"><span class="pre">Value</span></code> getter for the given key</li>
<li><code class="docutils literal"><span class="pre">registerFieldGetter(Key,</span> <span class="pre">Supplier)</span></code> referencing the getter method for the <em>raw</em> object defined above</li>
<li><code class="docutils literal"><span class="pre">registerFieldSetter(Key,</span> <span class="pre">Consumer)</span></code> referencing the setter method above if you are implementing the mutable
version</li>
</ul>
<p>We recommend using Java 8&#8217;s <code class="docutils literal"><span class="pre">::</span></code> syntax for easy <code class="docutils literal"><span class="pre">Supplier</span></code> and <code class="docutils literal"><span class="pre">Consumer</span></code> functions.</p>
<p><strong>Code Example: Implementing Getters and Setters</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.cookbook.myhomes.data.Keys</span>

<span class="c1">// registerGetters() for immutable implementation</span>
<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">registerGettersAndSetters</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">registerKeyValue</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">DEFAULT_HOME</span><span class="o">,</span> <span class="k">this</span><span class="o">::</span><span class="n">defaultHome</span><span class="o">);</span>
    <span class="n">registerKeyValue</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HOMES</span><span class="o">,</span> <span class="k">this</span><span class="o">::</span><span class="n">homes</span><span class="o">);</span>

    <span class="n">registerFieldGetter</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">DEFAULT_HOME</span><span class="o">,</span> <span class="k">this</span><span class="o">::</span><span class="n">getDefaultHome</span><span class="o">);</span>
    <span class="n">registerFieldGetter</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HOMES</span><span class="o">,</span> <span class="k">this</span><span class="o">::</span><span class="n">getHomes</span><span class="o">);</span>

    <span class="c1">// Only on mutable implementation</span>
    <span class="n">registerFieldSetter</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">DEFAULT_HOME</span><span class="o">,</span> <span class="k">this</span><span class="o">::</span><span class="n">setDefaultHome</span><span class="o">);</span>
    <span class="n">registerFieldSetter</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HOMES</span><span class="o">,</span> <span class="k">this</span><span class="o">::</span><span class="n">setHomes</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">fill(DataHolder,</span> <span class="pre">MergeFunction)</span></code> and <code class="docutils literal"><span class="pre">from(DataContainer)</span></code> are similar to the implementations for single data,
but loading all your values.</p>
</div>
</div>
</div>


                </div>
              </div>
            </div>
          <div class="clearer"></div>
        </div>
        <div class="footer" role="contentinfo">
              &copy; Copyright 2014-2016, Sponge Contributors.
            Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
        </div>
    </div>
  </body>
</html>